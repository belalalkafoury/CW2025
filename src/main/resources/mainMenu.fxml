<?import com.comp2042.view.TetrisLogo?>
<?import com.comp2042.view.HowToPlayPanel?>
<?import com.comp2042.view.SettingsPanel?>
<?import com.comp2042.view.GameModePanel?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.Group?>
<?import javafx.scene.shape.Rectangle?>
<?import java.net.URL?>

<Pane fx:controller="com.comp2042.controller.MainMenuController"
      xmlns:fx="http://javafx.com/fxml"
      prefWidth="700" prefHeight="600">

    <ImageView fitWidth="700" fitHeight="600" preserveRatio="false" pickOnBounds="true">
        <image>
            <Image url="@background_image.png"/>
        </image>
    </ImageView>

    <Pane fx:id="animationContainer" prefWidth="700" prefHeight="600" mouseTransparent="true" pickOnBounds="false"/>

    <VBox fx:id="logoContainer" alignment="CENTER" spacing="20" prefWidth="700" prefHeight="150" layoutX="0" layoutY="20">
        <TetrisLogo fx:id="tetrisLogo"/>
    </VBox>

    <VBox alignment="CENTER" spacing="20" prefWidth="700" prefHeight="600" layoutX="0" layoutY="50">
        <Button fx:id="playButton" onAction="#showGameModeSelection" 
                styleClass="image-button">
            <graphic>
                <ImageView fitWidth="200" fitHeight="60" preserveRatio="true" pickOnBounds="true">
                    <image>
                        <Image url="@Play.png"/>
                    </image>
                </ImageView>
            </graphic>
        </Button>

        <Button fx:id="settingsButton" onAction="#openSettings" 
                styleClass="image-button">
            <graphic>
                <ImageView fitWidth="200" fitHeight="60" preserveRatio="true" pickOnBounds="true">
                    <image>
                        <Image url="@settings.png"/>
                    </image>
                </ImageView>
            </graphic>
        </Button>

        <Button fx:id="quitButton" onAction="#quitGame" 
                styleClass="image-button">
            <graphic>
                <ImageView fitWidth="200" fitHeight="60" preserveRatio="true" pickOnBounds="true">
                    <image>
                        <Image url="@quit.png"/>
                    </image>
                </ImageView>
            </graphic>
        </Button>
    </VBox>

    <Button fx:id="howToPlayButton" text="!" onAction="#showHowToPlayFromMenu" 
            styleClass="how-to-play-button"
            layoutX="620" layoutY="530"/>

    <Group fx:id="howToPlayOverlay" visible="false" layoutX="0" layoutY="0">
        <HowToPlayPanel fx:id="howToPlayPanel" layoutX="0" layoutY="0"/>
    </Group>

    <Group fx:id="settingsOverlay" visible="false" layoutX="0" layoutY="0">
        <Rectangle width="700" height="600" styleClass="pause-dim-background"/>
        <StackPane alignment="CENTER" prefWidth="700" prefHeight="600">
            <SettingsPanel fx:id="settingsPanel"/>
        </StackPane>
    </Group>

    <Group fx:id="gameModeOverlay" visible="false" layoutX="0" layoutY="0">
        <GameModePanel fx:id="gameModePanel"/>
    </Group>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>

</Pane>
